(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{1628:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/WriteProject",function(){return s(8599)}])},8599:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(5893),n=s(7294),i=s(1664),l=s.n(i),r=s(1163),c=s(918),o=s(12),m=s.n(o),d=s(3454);function u(){let e=(0,r.useRouter)(),[t,s]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[u,h]=(0,n.useState)("Web"),[p,_]=(0,n.useState)([]),[j,g]=(0,n.useState)(""),[b,k]=(0,n.useState)(null),x=e=>{_(p.filter((t,s)=>s!==e))},f=async s=>{s.preventDefault();let a=new FormData;a.append("title",t),a.append("content",i),a.append("section",u),a.append("stack",JSON.stringify(p)),a.append("mainImage",b);try{(await fetch("http://localhost:3001/api/projects",{method:"POST",body:a})).ok?e.push("/project/Projects"):console.error("Failed to create post")}catch(e){console.error("Error:",e)}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"whole-container",children:(0,a.jsxs)("form",{onSubmit:f,children:[(0,a.jsxs)("div",{className:m().header,children:[(0,a.jsx)("div",{className:"nes-select",children:(0,a.jsxs)("select",{value:u,onChange:e=>h(e.target.value),children:[(0,a.jsx)("option",{value:"Web",children:"Web"}),(0,a.jsx)("option",{value:"AR/VR",children:"AR/VR"})]})}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"제목",required:!0,className:`nes-input ${m().title}`}),(0,a.jsxs)("div",{className:m().buttons,children:[(0,a.jsx)(l(),{href:"/project/Projects",children:(0,a.jsx)("button",{type:"button",className:"nes-btn",children:"취소"})}),(0,a.jsx)("button",{type:"submit",className:"nes-btn",children:"저장"})]})]}),(0,a.jsx)(c.M,{apiKey:d.env.TINYMCE_API_KEY,init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount linkchecker",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",paste_data_images:!0,file_picker_types:"image media",tinycomments_mode:"embedded",tinycomments_author:"Author name",mergetags_list:[{value:"First.Name",title:"First Name"},{value:"Email",title:"Email"}],ai_request:(e,t)=>t.string(()=>Promise.reject("See docs to implement AI Assistant"))},onEditorChange:e=>o(e)}),(0,a.jsxs)("div",{className:m().stack,children:[(0,a.jsx)("input",{type:"text",value:j,onChange:e=>g(e.target.value),placeholder:"스택",className:"nes-input"}),(0,a.jsx)("button",{type:"button",className:"nes-btn is-primary",onClick:()=>{j.trim()&&(_([...p,j.trim()]),g(""))},children:"추가"}),(0,a.jsx)("div",{className:m().stacks,children:p.map((e,t)=>(0,a.jsxs)("div",{className:m().stackItem,children:[(0,a.jsxs)("span",{className:"is-primary",children:[e," "]}),(0,a.jsx)("i",{class:"nes-icon close is-small",onClick:()=>x(t)})]},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"mainImage",children:"메인 이미지 업로드:"}),(0,a.jsx)("input",{type:"file",id:"mainImage",onChange:e=>{k(e.target.files[0])}})]})]})})})}},12:function(e){e.exports={header:"Write_header__wnmpL",title:"Write_title__OqQLz",buttons:"Write_buttons__Phq_X",stack:"Write_stack___jQ_w",stacks:"Write_stacks__dLO6a"}}},function(e){e.O(0,[695,888,774,179],function(){return e(e.s=1628)}),_N_E=e.O()}]);