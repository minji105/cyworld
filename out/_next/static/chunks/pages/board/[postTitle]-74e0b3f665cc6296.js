(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79],{1666:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/board/[postTitle]",function(){return e(5748)}])},5748:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return d}});var s=e(5893),o=e(7294),c=e(1163),r=e(1664),i=e.n(r),a=e(144),l=e.n(a);function d(){let t=(0,c.useRouter)(),{postTitle:n}=t.query,[e,r]=(0,o.useState)(null),[a,d]=(0,o.useState)(!1);(0,o.useEffect)(()=>{localStorage.getItem("token")&&d(!0)},[]),(0,o.useEffect)(()=>{n&&fetch(`http://localhost:3001/api/posts/${n}`).then(t=>t.json()).then(t=>r(t))},[n]);let h=async()=>{if(confirm("정말로 이 게시물을 삭제하시겠습니까?"))try{(await fetch(`http://localhost:3001/api/posts/${n}`,{method:"DELETE"})).ok?t.push("/board/Board"):console.error("Failed to delete post")}catch(t){console.error("Error:",t)}};return e?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"whole-container",children:(0,s.jsxs)("div",{className:"content",children:[(0,s.jsxs)("div",{className:l().nav,children:[(0,s.jsx)(i(),{href:"/board/Board",children:"← 이전"}),a&&(0,s.jsxs)("div",{className:l().buttons,children:[(0,s.jsx)("button",{type:"button",className:"nes-btn",onClick:()=>{t.push(`/board/edit/${n}`)},children:"수정"}),(0,s.jsx)("button",{type:"button",className:"nes-btn",onClick:h,children:"삭제"})]})]}),(0,s.jsxs)("div",{className:l().info,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:e.section}),(0,s.jsx)("h2",{children:e.title})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("span",{children:["작성일자: ",e.createdAt]})})]}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}})]})})}):(0,s.jsx)("div",{children:"Loading..."})}},144:function(t){t.exports={nav:"Post_nav__VtJyk",buttons:"Post_buttons__7EfAf",info:"Post_info__kD_hC"}}},function(t){t.O(0,[888,774,179],function(){return t(t.s=1666)}),_N_E=t.O()}]);